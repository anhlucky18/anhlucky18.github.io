{"version":3,"sources":["../node_modules/@material-ui/icons/NavigateNext.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","api/schools.js","views/schools/SchoolCreateView/SchoolCreateForm.js","views/schools/SchoolCreateView/Header.js","views/schools/SchoolCreateView/index.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","i","F","s","n","length","done","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","addSchool","data","a","app","firestore","collection","doc","id","docRef","total_student","total_teacher","lms_url","trim","get","exists","console","log","set","getSchoolApi","querySnapshot","school","updateSchool","update","result","listAllSchool","docs","map","has_running_command","school_id","where","commands","uploadExcel","user","file","year","reader","FileReader","rABS","readAsBinaryString","onabort","onerror","onload","bstr","target","workbook","XLSX","read","type","command","action","status","executer","Sheets","keys","sheet0_list","SheetNames","sheet0","utils","sheet_to_json","raw","dateNF","header","blankrows","defval","hs","JSON","stringify","sheet1_list","sheet1","gv","template","add","schoolApi","commandid","url","API_URL","axios","post","then","resp","readAsArrayBuffer","useStyles","makeStyles","root","SchoolCreateForm","className","rest","classes","history","useHistory","useSnackbar","enqueueSnackbar","initialValues","address","email","name","phone","province","district","submit","validationSchema","Yup","shape","max","required","onSubmit","values","resetForm","setErrors","setStatus","setSubmitting","wait","push","error","success","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","clsx","Card","CardContent","Grid","container","spacing","item","md","xs","TextField","Boolean","fullWidth","helperText","label","onBlur","onChange","variant","Box","mt","Button","color","disabled","Header","Breadcrumbs","separator","fontSize","aria-label","Link","to","component","RouterLink","Typography","theme","backgroundColor","palette","background","dark","minHeight","paddingTop","paddingBottom","SchoolCreateView","Page","title","Container","maxWidth"],"mappings":"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","file":"static/js/80.79066c49.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\n\nexports.default = _default;","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import app from './firebase';\nimport axios from 'axios';\nimport XLSX from 'xlsx' ;\nimport { API_URL } from '../config';\n\nexport const addSchool = async (data) => {\n    try {\n        var docRef = await app.firestore().collection(\"schools\").doc(data.id);\n        data.total_student=0;\n        data.total_teacher=0;\n        data.lms_url=data.id.trim()+\".dschool.vn\";\n        const doc = docRef.get()\n        if (doc.exists) {\n            console.log(\"doc exist\")\n            return \"existed\";\n        } else {\n            console.log(data);\n            let school  = await app.firestore().collection('schools').doc(data.id).set(data);\n            console.log(\"add school success\");\n        }\n        \n    } catch (err) {\n        console.log(err);\n    }\n};\n\nexport const getSchoolApi = async (id) => {\n    try {\n        let querySnapshot  = await app.firestore().collection('schools').doc(id).get();\n        const school = querySnapshot.data()\n        school.id=id\n          return school\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nexport const updateSchool = async (data) => {\n    try {\n        let id=data.id;\n        let result  = await app.firestore().collection('schools').doc(id).update(data);\n        return result\n    } catch (err) {\n        console.log(err);\n    }\n};\n\nexport const listAllSchool = async (data) => {\n    try {\n        let querySnapshot  = await app.firestore().collection('schools').get();\n        const school = querySnapshot.docs.map((doc) => {\n            return { id: doc.id, ...doc.data() }\n          })\n          return school\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nexport const has_running_command = async (school_id) => {\n    try {\n       \n        let querySnapshot = await app.firestore().collection('commands').where(\"data.school_id\",\"==\",school_id).where(\"type\",\"==\",\"school\").where(\"action\",\"==\",\"upload\").where(\"status\",\"==\",1).get();\n        const commands = querySnapshot.docs.map((doc) => {\n            return {\n              id: doc.id,\n              ...doc.data()\n            };\n          });\n          console.log(commands);\n          return commands;\n        \n      } catch (err) {\n        console.log(err);\n      }\n}\n\nexport const deleteSchools = (ids) => {\n    try {\n      ids.map((id) => {\n        app.firestore().collection('schools').doc(id).delete();\n      })\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  export const uploadExcel = async (user,file,school_id) => {\n    try {\n        let data = {\"school_id\":school_id};\n        data.year=\"2021_2022\";\n        const reader = new FileReader() \n        const rABS = !!reader.readAsBinaryString;  // !! converts object to boolean \n        reader.onabort = () => console.log('file reading was aborted')\n        reader.onerror = () => console.log('file reading has failed')\n        reader.onload = async(e) => {\n            // Do what you want with the file contents \n            var bstr = e.target.result; \n            var workbook = XLSX.read(bstr, { type: rABS ? \"binary\" : \"array\" })\n            var command = {\n              type: \"school\",\n              action: \"upload\",\n              status: 0,\n              executer: user,\n            }\n            console.log(workbook.Sheets);\n            let length=Object.keys( workbook.Sheets).length;\n            console.log(\"length\",length)\n            if(length==2){\n              //issert mẫu mới \n              var sheet0_list = workbook.SheetNames[0];\n              var sheet0 = XLSX.utils.sheet_to_json(workbook.Sheets[sheet0_list], {\n                  raw: false,\n                  dateNF: \"MM-DD-YYYY\",\n                  header:1,\n                  blankrows: false,\n                  defval: \"\"\n              })\n              data.hs = JSON.stringify(sheet0);\n              var sheet1_list = workbook.SheetNames[1];\n              var sheet1 = XLSX.utils.sheet_to_json(workbook.Sheets[sheet1_list], {\n                  raw: false,\n                  dateNF: \"MM-DD-YYYY\",\n                  header:1,\n                  blankrows: false,\n                  defval: \"\"\n              })\n              // const checkhs = check_hs(data.hs)\n              // if(checkhs){\n              //   console.log(\"checkhs\",checkhs)\n              //   return checkhs;\n              // }\n              data.gv = JSON.stringify(sheet1);\n              data.template=2;\n              command.data=data;\n              // const checkgv = check_gv(data.gv);\n              // if(checkgv){\n              //   console.log(\"checkgv\",checkgv)\n              //   return checkgv;\n              // }\n            } else if(length==3){\n              console.log(\"not use 3 temp\")\n              return \"please review template\";\n              //insert mẫu cũ \n              // var sheet0_list = workbook.SheetNames[0];\n              // var sheet0 = XLSX.utils.sheet_to_json(workbook.Sheets[sheet0_list], {\n              //     raw: false,\n              //     dateNF: \"MM-DD-YYYY\",\n              //     header:1,\n              //     blankrows: false,\n              //     defval: \"\"\n              // })\n              // data.hs = JSON.stringify(sheet0);\n              // var sheet1_list = workbook.SheetNames[1];\n              // var sheet1 = XLSX.utils.sheet_to_json(workbook.Sheets[sheet1_list], {\n              //     raw: false,\n              //     dateNF: \"MM-DD-YYYY\",\n              //     header:1,\n              //     blankrows: false,\n              //     defval: \"\"\n              // })\n              // data.gv = JSON.stringify(sheet1);\n              // var sheet2_list = workbook.SheetNames[2];\n              // var sheet2 = XLSX.utils.sheet_to_json(workbook.Sheets[sheet2_list], {\n              //     raw: false,\n              //     dateNF: \"MM-DD-YYYY\",\n              //     header:1,\n              //     blankrows: false,\n              //     defval: \"\"                \n              // })\n              // data.assignment = JSON.stringify(sheet2);\n              // data.template=3;\n              // command.data=data;\n            }\n\n            \n\n            let schoolApi = await app.firestore().collection('commands').add(command);\n            let id = await (await schoolApi.get()).id;\n            console.log(id)\n            command.data.commandid=id;\n            const url = `${API_URL}/api/upload_school`;\n            axios.post(url,{id:id}).then(resp => {\n                console.log(resp.data);\n            });\n            // console.log(\"add command success\",id)\n            return \"success\";\n          }\n          if (rABS) {await reader.readAsBinaryString(file);}\n          else {await reader.readAsArrayBuffer(file);}\n    } catch (err) {\n      console.log(err);\n      return \"Lỗi rồi !!!\";\n    }\n  };\n\n  function check_hs(data){\n    console.log(\"hs:\",data);\n    for (let user_row of data) {\n      if (user_row[0] != \"STT\") {\n        let class_name = user_row[1];\n        let fullname = user_row[3];\n        let birthdate = user_row[4];\n        let password = user_row[8];\n        let username = user_row[7];\n        if(class_name==null||fullname==null||username==null||password==null||class_name==\"\"||fullname==\"\"||username==\"\"||password==\"\"){\n          return \"Xem lại lớp:\"+class_name+\" tên:\"+fullname+\" user:\"+username+\" pass:\"+password;\n        }\n      }\n    }\n    return false;\n  }\n  function check_gv(data){\n    console.log(\"gv:\",data);\n    for (let user_row of data) {\n      if (user_row[0] != \"STT\") {\n\n        let class_name = user_row[1];\n        let fullname = user_row[3];\n        let birthdate = user_row[4];\n        let password = user_row[8];\n        let username = user_row[7];\n        if(class_name==null||fullname==null||username==null||password==null||class_name==\"\"||fullname==\"\"||username==\"\"||password==\"\"){\n          return \"Xem lại lớp:\"+class_name+\" tên:\"+fullname+\" user:\"+username+\" pass:\"+password;\n        }\n      }\n    }\n    return false;\n  }","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { useSnackbar } from 'notistack';\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  TextField,\n  makeStyles\n} from '@material-ui/core';\nimport wait from 'src/utils/wait';\nimport {addSchool} from '../../../api/schools.js';\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\nconst SchoolCreateForm = ({\n  className,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { enqueueSnackbar } = useSnackbar();\n    return (\n    <Formik\n    initialValues={{\n      address:  '',\n      email: '',\n      name: '',\n      id: '',\n      phone:  '',\n      province:  '',\n      district:  '',\n      submit: null\n    }}\n      validationSchema={Yup.object().shape({\n        \n        address: Yup.string().max(255),\n        email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n        \n        name: Yup.string().max(255).required('Name is required'),\n        phone: Yup.string().max(15),\n\n      })}\n      onSubmit={async (values, {\n        resetForm,\n        setErrors,\n        setStatus,\n        setSubmitting\n      }) => {\n        try {\n          addSchool(values)\n          console.log(values)\n          // NOTE: Make API request\n          await wait(500);\n          history.push('/hbon/management/schools');\n        } catch (err) {\n          console.error(err);\n          setStatus({ success: false });\n          setErrors({ submit: err.message });\n          setSubmitting(false);\n        }\n      }}\n      \n    >\n      {({\n        errors,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        isSubmitting,\n        touched,\n        values\n      }) => (\n        <form\n          className={clsx(classes.root, className)}\n          onSubmit={handleSubmit}\n          {...rest}\n        >\n          <Card>\n            <CardContent>\n              <Grid\n                container\n                spacing={3}\n              >\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.name && errors.name)}\n                    fullWidth\n                    helperText={touched.name && errors.name}\n                    label=\"Tên trường\"\n                    name=\"name\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    required\n                    value={values.name}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.id && errors.id)}\n                    fullWidth\n                    helperText={touched.id && errors.id}\n                    label=\"domain\"\n                    name=\"id\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    required\n                    value={values.id}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.email && errors.email)}\n                    fullWidth\n                    helperText={touched.email && errors.email}\n                    label=\"Email\"\n                    name=\"email\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    required\n                    value={values.email}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.province && errors.province)}\n                    fullWidth\n                    helperText={touched.province && errors.province}\n                    label=\"Tỉnh/Thành phố\"\n                    name=\"province\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    value={values.province}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.district && errors.district)}\n                    fullWidth\n                    helperText={touched.district && errors.district}\n                    label=\"Quận/Huyện\"\n                    name=\"district\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    value={values.district}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.address && errors.address)}\n                    fullWidth\n                    helperText={touched.address && errors.address}\n                    label=\"Địa chỉ\"\n                    name=\"address\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    value={values.address}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.phone && errors.phone)}\n                    fullWidth\n                    helperText={touched.phone && errors.phone}\n                    label=\"Số điện thoại\"\n                    name=\"phone\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    value={values.phone}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                \n              </Grid>\n              <Box mt={2}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                >\n                  Lưu\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nSchoolCreateForm.propTypes = {\n  className: PropTypes.string\n};\n\nexport default SchoolCreateForm;\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Breadcrumbs,\n  Link,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Header = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Breadcrumbs\n        separator={<NavigateNextIcon fontSize=\"small\" />}\n        aria-label=\"breadcrumb\"\n      >\n        <Link\n          variant=\"body1\"\n          color=\"inherit\"\n          to=\"/hbon/management/schools\"\n          component={RouterLink}\n        >\n          Trang chủ\n        </Link>\n        <Link\n          variant=\"body1\"\n          color=\"inherit\"\n          to=\"/hbon/management/schools\"\n          component={RouterLink}\n        >\n          Trường học\n        </Link>\n      </Breadcrumbs>\n      <Typography\n        variant=\"h3\"\n        color=\"textPrimary\"\n      >\n        Thêm trường học\n      </Typography>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React from 'react';\nimport {\n  Box,\n  Container,\n  makeStyles\n} from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport SchoolCreateForm from './SchoolCreateForm';\nimport Header from './Header';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nconst SchoolCreateView = () => {\n  const classes = useStyles();\n  console.log(\"creating school\")\n\n\n  return (\n    <Page\n      className={classes.root}\n      title=\"Thêm trường học\"\n    >\n      <Container maxWidth={false}>\n        <Header />\n      </Container>\n      <Box mt={3}>\n        <Container maxWidth=\"lg\">\n          <SchoolCreateForm />\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default SchoolCreateView;\n"],"sourceRoot":""}