{"version":3,"sources":["../node_modules/@material-ui/icons/NavigateNext.js","api/roles.js","views/roles/RoleCreateView/RoleCreateForm.js","views/roles/RoleCreateView/Header.js","views/roles/RoleCreateView/index.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","listAllRole","a","app","firestore","collection","get","querySnapshot","role","docs","map","doc","id","data","console","log","addRole","add","deleteRoles","ids","delete","err","getRoleApi","updateRole","set","result","useStyles","makeStyles","root","RoleCreateForm","className","rest","classes","enqueueSnackbar","useSnackbar","initialValues","name","shortname","submit","validationSchema","Yup","shape","max","onSubmit","values","resetForm","setErrors","setStatus","setSubmitting","wait","success","variant","action","Button","error","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","clsx","Card","CardContent","Grid","container","spacing","item","md","xs","TextField","Boolean","fullWidth","helperText","label","onBlur","onChange","required","Tooltip","title","disableHoverListener","Box","mt","color","type","disabled","Header","Breadcrumbs","separator","fontSize","Link","to","component","RouterLink","Typography","theme","backgroundColor","palette","background","dark","minHeight","paddingTop","paddingBottom","RoleCreateView","Page","Container","maxWidth"],"mappings":"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","file":"static/js/111.0c6b9d8e.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\n\nexports.default = _default;","import app from './_firebase';\n\n\nexport const listAllRole = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('roles').get();\n    const role = querySnapshot.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      }\n    })\n    return role\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n\nexport const addRole = async (data) => {\n  try {\n    let role = await app.firestore().collection('roles').add(data);\n    console.log(role.data);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const deleteRoles = (ids) => {\n  try {\n    ids.map((id) => {\n      app.firestore().collection('roles').doc(id).delete();\n    })\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getRoleApi = async (id) => {\n  try {\n    let querySnapshot = await app.firestore().collection('roles').doc(id).get();\n    const role = querySnapshot.data()\n    role.id = id\n    return role\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport const updateRole = async (data) => {\n  try {\n    console.log(\"update roles\")\n    let id = data.id;\n    let result = await app.firestore().collection('roles').doc(id).set(data);\n    console.log(result);\n    return result\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  TextField,\n  makeStyles,\n  Tooltip\n} from '@material-ui/core';\nimport wait from 'src/utils/wait';\nimport {addRole} from '../../../api/roles.js';\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst RoleCreateForm = ({\n  className,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n    return (\n    <Formik\n    initialValues={{\n      name: '',\n      shortname: '',//this is moodle role \n      submit: null\n    }}\n      validationSchema={Yup.object().shape({\n        name: Yup.string().max(25),\n        shortname: Yup.string().max(25),\n\n      })}\n      onSubmit={async (values, {\n        resetForm,\n        setErrors,\n        setStatus,\n        setSubmitting\n      }) => {\n        try {\n          addRole(values)\n          console.log(values)\n          // NOTE: Make API request\n          await wait(500);\n          resetForm();\n          setStatus({ success: true });\n          setSubmitting(false);\n          enqueueSnackbar('Role updated', {\n            variant: 'success',\n            action: <Button>See all</Button>\n          });\n        } catch (err) {\n          console.error(err);\n          setStatus({ success: false });\n          setErrors({ submit: err.message });\n          setSubmitting(false);\n        }\n      }}\n    >\n      {({\n        errors,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        isSubmitting,\n        touched,\n        values\n      }) => (\n        <form\n          className={clsx(classes.root, className)}\n          onSubmit={handleSubmit}\n          {...rest}\n        >\n          <Card>\n            <CardContent>\n              <Grid\n                container\n                spacing={3}\n              >\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <TextField\n                    error={Boolean(touched.name && errors.name)}\n                    fullWidth\n                    helperText={touched.name && errors.name}\n                    label=\"Vai trò\"\n                    name=\"name\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    required\n                    value={values.name}\n                    variant=\"outlined\"\n                  />\n                </Grid>\n                <Grid\n                  item\n                  md={6}\n                  xs={12}\n                >\n                  <Tooltip title=\"Viết liền, không dấu \" disableHoverListener>\n                  <TextField\n                    error={Boolean(touched.shortname && errors.shortname)}\n                    fullWidth\n                    helperText={touched.shortname && errors.shortname}\n                    label=\"Moodle shortname\"\n                    name=\"shortname\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    required\n                    value={values.shortname}\n                    variant=\"outlined\"\n                  />\n                  </Tooltip>\n                </Grid>\n                \n              </Grid>\n              <Box mt={2}>\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                >\n                  Lưu\n                </Button>\n              </Box>\n            </CardContent>\n          </Card>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nRoleCreateForm.propTypes = {\n  className: PropTypes.string\n};\n\nexport default RoleCreateForm;\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Breadcrumbs,\n  Link,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Header = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Breadcrumbs\n        separator={<NavigateNextIcon fontSize=\"small\" />}\n        aria-label=\"breadcrumb\"\n      >\n        <Link\n          variant=\"body1\"\n          color=\"inherit\"\n          to=\"/hbon \"\n          component={RouterLink}\n        >\n          Trang chủ\n        </Link>\n        <Link\n          variant=\"body1\"\n          color=\"inherit\"\n          to=\"/hbon/management/roles\"\n          component={RouterLink}\n        >\n          Vai trò\n        </Link>\n      </Breadcrumbs>\n      <Typography\n        variant=\"h3\"\n        color=\"textPrimary\"\n      >\n        Thêm vai trò\n      </Typography>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React from 'react';\nimport {\n  Box,\n  Container,\n  makeStyles\n} from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport RoleCreateForm from './RoleCreateForm';\nimport Header from './Header';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nconst RoleCreateView = () => {\n  const classes = useStyles();\n\n\n\n  return (\n    <Page\n      className={classes.root}\n      title=\"Thêm vai trò\"\n    >\n      <Container maxWidth={false}>\n        <Header />\n      </Container>\n      <Box mt={3}>\n        <Container maxWidth=\"lg\">\n          <RoleCreateForm />\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default RoleCreateView;\n"],"sourceRoot":""}