{"version":3,"sources":["hooks/useIsMountedRef.js","../node_modules/@material-ui/icons/NavigateNext.js","api/livestreams.js","views/teachers/classes/ClassEditView/Header.js","views/teachers/classes/ClassEditView/index.js"],"names":["useIsMountedRef","isMounted","useRef","useEffect","current","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","listLivestreamVideo","a","app","firestore","collection","get","querySnapshot","content","docs","map","doc","id","data","console","log","addLivestreamVideo","values","content_type","create_at","firebase","FieldValue","serverTimestamp","add","contentRef","getVideoApi","video","updateVideo","update_at","update","getVideoQuestion","questions","setShowVideo","questId","questRef","useStyles","makeStyles","root","Header","className","rest","classes","clsx","Breadcrumbs","separator","fontSize","aria-label","Link","variant","color","to","component","RouterLink","Typography","theme","backgroundColor","palette","background","dark","minHeight","paddingTop","spacing","paddingBottom","ClassEditView","props","sclassId","match","params","Page","title","Container","maxWidth","Box","mt","sclass"],"mappings":"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","file":"static/js/97.923228fc.chunk.js","sourcesContent":["import {useRef, useEffect } from 'react';\n\nconst useIsMountedRef = () => {\n  const isMounted = useRef(true);\n\n  useEffect(() => () => {\n    isMounted.current = false;\n  }, []);\n\n  return isMounted;\n};\n\nexport default useIsMountedRef;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\n\nexports.default = _default;","import firebase from 'firebase';\nimport app from './firebase';\n\nexport const listLivestreamVideo = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('video').get();\n    const content = querySnapshot.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    });\n    return content;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n\nexport const addLivestreamVideo = async (values) => {\n  try {\n    values.content_type = 'livestream';\n    values.create_at = firebase.firestore.FieldValue.serverTimestamp();\n    let contentRef = await app.firestore().collection('video').add(values);\n    let content = await contentRef.get();\n    return content.data();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const deleteContents = (ids) => {\n  try {\n    ids.map((id) => {\n      let cover_url = 'public/images/content/' + id;\n      var storageRef = app.storage().ref();\n      storageRef.child(cover_url).getDownloadURL().then(onResolve, onReject);\n\n      function onResolve(foundURL) {\n        storageRef.child(cover_url).delete();\n      }\n\n      function onReject(error) {\n        console.log(error.code);\n      }\n\n      app.firestore().collection('contents').doc(id).collection('detail').doc('content').delete();\n      app.firestore().collection('contents').doc(id).delete();\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getVideoApi = async (id) => {\n  try {\n    console.log(id);\n    let querySnapshot = await app.firestore().collection('video').doc(id).get();\n    const video = querySnapshot.data();\n    console.log(video);\n    video.id = id;\n    return video;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const updateVideo = async (values) => {\n  try {\n    let id = values.id;\n    console.log(id);\n    // await app.firestore().collection('contents').doc(id).update(data);\n    // await app.firestore().collection('contents').doc(id).collection('detail').doc('content').update({ data: detail });\n    values.update_at = firebase.firestore.FieldValue.serverTimestamp();\n    let contentRef = await app.firestore().collection('video').doc(id).update(values);\n    return contentRef ;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getVideoQuestion = async (id) => {\n  try {\n    let querySnapshot = await app.firestore().collection('video').doc(id).collection('questions').get();\n    const questions = querySnapshot.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    });\n    return questions;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const setShowVideo = async (id,questId) => {\n  try {\n    let questRef = await app.firestore().collection('video').doc(id).update({\"questionId\":questId});\n    return questRef\n  } catch (err) {\n    console.log(err);\n  }\n};","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Breadcrumbs,\n  Link,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Header = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={clsx(classes.root, className)}{...rest}>\n      <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\n      <Link variant=\"body1\" color=\"inherit\" to=\"/teacher \" component={RouterLink}>\n        Trang chủ\n      </Link>\n      <Link variant=\"body1\" color=\"inherit\" to=\"/teacher/management/classes\" component={RouterLink}>\n        Class\n      </Link>\n      </Breadcrumbs>\n      <Typography variant=\"h3\" color=\"textPrimary\">\n        Chỉnh sửa Class\n      </Typography>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React, {\n  useState,\n  useCallback,\n  useEffect\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { Box, Container, makeStyles } from '@material-ui/core';\nimport axios from 'src/utils/axios';\nimport Page from 'src/components/Page';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport ClassEditForm from './ClassEditForm';\nimport Header from './Header';\nimport { getVideoApi } from '../../../../api/livestreams';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nconst ClassEditView = (props) => {\n  const classes = useStyles();\n  const {sclassId } = props.match.params;\n  console.log(sclassId);\n\n  return (\n    <Page className={classes.root} title=\"Class Edit\">\n      <Container maxWidth={false}>\n        <Header/>\n      </Container>\n      <Box mt={3}>\n        <Container maxWidth=\"lg\">\n          <ClassEditForm sclass={sclassId}/>\n        </Container>\n      </Box>\n    </Page>\n  );\n};\nexport default ClassEditView;\n"],"sourceRoot":""}