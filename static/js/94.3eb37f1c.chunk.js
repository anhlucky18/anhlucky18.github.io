(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[94],{1278:function(e,t,a){"use strict";var r=a(225),n=a(224);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),o=(0,r(a(227)).default)(c.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=o},1286:function(e,t,a){"use strict";function r(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}a.d(t,"a",(function(){return r}))},1671:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var r=a(9),n=a.n(r),c=a(14);function o(e){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(n.a.mark((function e(t){var a,r,c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a="",c=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length,o=0;o<t;o++)a+=r.charAt(Math.floor(Math.random()*c));return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(n.a.mark((function e(t){var a,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a="","0123456789",r="0123456789".length,c=0;c<t;c++)a+="0123456789".charAt(Math.floor(Math.random()*r));return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1886:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return f}));var r=a(24),n=a(9),c=a.n(n),o=a(14),s=(a(1286),a(53)),l=a(184),u=a.n(l),i=a(1671),m=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(6);case 3:return a=e.sent,e.next=6,s.a.firestore().collection("classes").doc(a);case 6:if(r=e.sent,!r.get().exists){e.next=12;break}return e.abrupt("return","existed");case 12:return e.next=14,s.a.firestore().collection("classes").doc(a).set(t);case 14:return console.log("add class success"),e.next=17,s.a.firestore().collection("schools").doc(t.school_id).update({classes:u.a.firestore.FieldValue.arrayUnion(r)});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.firestore().collection("classes").doc(t).get();case 3:return a=e.sent,(r=a.data()).id=t,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),a=t.id,e.next=5,s.a.firestore().collection("classes").doc(a).update(t);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.firestore().collection("classes").where("school_id","==",t).get();case 3:if(!(a=e.sent).docs){e.next=8;break}return n=a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),console.log(n),e.abrupt("return",n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},2769:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(380),o=a(1180),s=a(374),l=a(390),u=a(9),i=a.n(u),m=a(14),p=a(28),d=a(2),f=a(1363),h=a(1355),b=a(62),v=a(1174),g=a(1176),y=a(1188),x=a(1161),E=a(1151),j=a(188),O=a(1886),k=a(55),w=Object(c.a)((function(){return{root:{}}})),S=function(e){var t=e.className,a=Object(p.a)(e,["className"]),r=w(),c=Object(k.g)();Object(b.b)().enqueueSnackbar;return n.a.createElement(h.a,{initialValues:{name:"",years:"",submit:null},validationSchema:f.e().shape({name:f.g().max(255).required("Name is required"),years:f.g().max(15)}),onSubmit:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.resetForm,r=a.setErrors,n=a.setStatus,o=a.setSubmitting,e.prev=1,t.school_id=localStorage.getItem("schoolid"),t.name=t.name.replace(/\s/g,""),Object(O.a)(t),e.next=7,Object(j.a)(500);case 7:c.push("/school/management/classes"),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),n({success:!1}),r({submit:e.t0.message}),o(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var c=e.errors,o=e.handleBlur,l=e.handleChange,u=e.handleSubmit,i=e.isSubmitting,m=e.touched,p=e.values;return n.a.createElement("form",Object.assign({className:Object(d.default)(r.root,t),onSubmit:u},a),n.a.createElement(v.a,null,n.a.createElement(g.a,null,n.a.createElement(y.a,{container:!0,spacing:3},n.a.createElement(y.a,{item:!0,md:6,xs:12},n.a.createElement(x.a,{error:Boolean(m.name&&c.name),fullWidth:!0,helperText:m.name&&c.name,label:"T\xean l\u1edbp",name:"name",onBlur:o,onChange:l,required:!0,value:p.name,variant:"outlined"})),n.a.createElement(y.a,{item:!0,md:6,xs:12},n.a.createElement(x.a,{error:Boolean(m.years&&c.years),fullWidth:!0,helperText:m.years&&c.years,label:"Ni\xean kh\xf3a",name:"years",onBlur:o,onChange:l,required:!0,value:p.years,variant:"outlined"})),n.a.createElement(y.a,{item:!0})),n.a.createElement(s.a,{mt:2},n.a.createElement(E.a,{variant:"contained",color:"secondary",type:"submit",disabled:i},"L\u01b0u")))))}))},N=a(8),T=a(1233),B=a(1191),M=a(84),q=a(1278),C=a.n(q),I=Object(c.a)((function(){return{root:{}}})),L=function(e){var t=e.className,a=Object(p.a)(e,["className"]),r=localStorage.getItem("schoolname"),c=I();return n.a.createElement("div",Object.assign({className:Object(d.default)(c.root,t)},a),n.a.createElement(T.a,{separator:n.a.createElement(C.a,{fontSize:"small"}),"aria-label":"breadcrumb"},n.a.createElement(B.a,{variant:"body1",color:"inherit",to:"/hbon/management/schools",component:N.a},"Tr\u01b0\u1eddng: ",r),n.a.createElement(B.a,{variant:"body1",color:"inherit",to:"/school/management/classes",component:N.a},"L\u1edbp h\u1ecdc")),n.a.createElement(M.a,{variant:"h3",color:"textPrimary"},"Th\xeam l\u1edbp h\u1ecdc"))},W=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){var t=W();return n.a.createElement(l.a,{className:t.root,title:"Th\xeam l\u1edbp h\u1ecdc"},n.a.createElement(o.a,{maxWidth:!1},n.a.createElement(L,null)),n.a.createElement(s.a,{mt:3},n.a.createElement(o.a,{maxWidth:"lg"},n.a.createElement(S,null))))}}}]);
//# sourceMappingURL=94.3eb37f1c.chunk.js.map