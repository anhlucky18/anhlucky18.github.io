(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[86],{1287:function(e,t,r){"use strict";var n=r(20);r.d(t,"a",(function(){return n.S}))},1304:function(e,t,r){"use strict";var n=r(244),a=r(243);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(r(0)),s=(0,n(r(246)).default)(c.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=s},1312:function(e,t,r){"use strict";function n(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}r.d(t,"a",(function(){return n}))},1913:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var n=r(2),a=r.n(n),c=r(4);function s(e){return o.apply(this,arguments)}function o(){return(o=Object(c.a)(a.a.mark((function e(t){var r,n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r="",c=(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length,s=0;s<t;s++)r+=n.charAt(Math.floor(Math.random()*c));return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t){var r,n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r="",c=(n="0123456789").length,s=0;s<t;s++)r+=n.charAt(Math.floor(Math.random()*c));return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1915:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return b})),r.d(t,"c",(function(){return h}));var n=r(16),a=r(2),c=r.n(a),s=r(4),o=(r(1312),r(152)),i=r(1287),u=r(1913),l=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)(6);case 3:return r=e.sent,e.next=6,o.a.firestore().collection("classes").doc(r);case 6:if(n=e.sent,!n.get().exists){e.next=12;break}return e.abrupt("return","existed");case 12:return e.next=14,o.a.firestore().collection("classes").doc(r).set(t);case 14:return console.log("add class success"),e.next=17,o.a.firestore().collection("schools").doc(t.school_id).update({classes:Object(i.a)().FieldValue.arrayUnion(n)});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.firestore().collection("classes").doc(t).get();case 3:return r=e.sent,(n=r.data()).id=t,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),r=t.id,e.next=5,o.a.firestore().collection("classes").doc(r).update(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.firestore().collection("classes").where("school_id","==",t).get();case 3:if(!(r=e.sent).docs){e.next=8;break}return a=r.docs.map((function(e){return Object(n.a)({id:e.id},e.data())})),console.log(a),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},2795:function(e,t,r){"use strict";r.r(t);r(0);var n=r(401),a=r(1207),c=r(395),s=r(412),o=r(16),i=r(2),u=r.n(i),l=r(4),d=r(38),b=r(5),h=r(1382),p=r(1373),f=r(72),m=r(1201),j=r(1203),v=r(1215),x=r(1188),O=r(1178),g=r(205),y=r(1915),k=r(66),w=r(1),S=["className"],N=Object(n.a)((function(){return{root:{}}})),T=function(e){var t=e.className,r=Object(d.a)(e,S),n=N(),a=Object(k.g)();Object(f.b)().enqueueSnackbar;return Object(w.jsx)(p.a,{initialValues:{name:"",years:"",submit:null},validationSchema:h.e().shape({name:h.g().max(255).required("Name is required"),years:h.g().max(15)}),onSubmit:function(){var e=Object(l.a)(u.a.mark((function e(t,r){var n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.resetForm,n=r.setErrors,c=r.setStatus,s=r.setSubmitting,e.prev=1,t.school_id=localStorage.getItem("schoolid"),t.name=t.name.replace(/\s/g,""),Object(y.a)(t),e.next=7,Object(g.a)(500);case 7:a.push("/school/management/classes"),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),c({success:!1}),n({submit:e.t0.message}),s(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var a=e.errors,s=e.handleBlur,i=e.handleChange,u=e.handleSubmit,l=e.isSubmitting,d=e.touched,h=e.values;return Object(w.jsx)("form",Object(o.a)(Object(o.a)({className:Object(b.default)(n.root,t),onSubmit:u},r),{},{children:Object(w.jsx)(m.a,{children:Object(w.jsxs)(j.a,{children:[Object(w.jsxs)(v.a,{container:!0,spacing:3,children:[Object(w.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(w.jsx)(x.a,{error:Boolean(d.name&&a.name),fullWidth:!0,helperText:d.name&&a.name,label:"T\xean l\u1edbp",name:"name",onBlur:s,onChange:i,required:!0,value:h.name,variant:"outlined"})}),Object(w.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(w.jsx)(x.a,{error:Boolean(d.years&&a.years),fullWidth:!0,helperText:d.years&&a.years,label:"Ni\xean kh\xf3a",name:"years",onBlur:s,onChange:i,required:!0,value:h.years,variant:"outlined"})}),Object(w.jsx)(v.a,{item:!0})]}),Object(w.jsx)(c.a,{mt:2,children:Object(w.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",disabled:l,children:"L\u01b0u"})})]})})}))}})},B=r(15),M=r(1260),q=r(1218),C=r(94),I=r(1304),L=r.n(I),W=["className"],_=Object(n.a)((function(){return{root:{}}})),E=function(e){var t=e.className,r=Object(d.a)(e,W),n=localStorage.getItem("schoolname"),a=_();return Object(w.jsxs)("div",Object(o.a)(Object(o.a)({className:Object(b.default)(a.root,t)},r),{},{children:[Object(w.jsxs)(M.a,{separator:Object(w.jsx)(L.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(w.jsxs)(q.a,{variant:"body1",color:"inherit",to:"/hbon/management/schools",component:B.b,children:["Tr\u01b0\u1eddng: ",n]}),Object(w.jsx)(q.a,{variant:"body1",color:"inherit",to:"/school/management/classes",component:B.b,children:"L\u1edbp h\u1ecdc"})]}),Object(w.jsx)(C.a,{variant:"h3",color:"textPrimary",children:"Th\xeam l\u1edbp h\u1ecdc"})]}))},z=Object(n.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){var t=z();return Object(w.jsxs)(s.a,{className:t.root,title:"Th\xeam l\u1edbp h\u1ecdc",children:[Object(w.jsx)(a.a,{maxWidth:!1,children:Object(w.jsx)(E,{})}),Object(w.jsx)(c.a,{mt:3,children:Object(w.jsx)(a.a,{maxWidth:"lg",children:Object(w.jsx)(T,{})})})]})}}}]);
//# sourceMappingURL=86.bd91e986.chunk.js.map