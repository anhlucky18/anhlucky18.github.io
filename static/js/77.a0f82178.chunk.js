(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[77],{1284:function(e,t,n){"use strict";var r=n(0);t.a=function(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},1287:function(e,t,n){"use strict";var r=n(20);n.d(t,"a",(function(){return r.S}))},1304:function(e,t,n){"use strict";var r=n(244),a=n(243);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),s=(0,r(n(246)).default)(c.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=s},1312:function(e,t,n){"use strict";function r(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}n.d(t,"a",(function(){return r}))},1913:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(2),a=n.n(r),c=n(4);function s(e){return o.apply(this,arguments)}function o(){return(o=Object(c.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n="",c=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length,s=0;s<t;s++)n+=r.charAt(Math.floor(Math.random()*c));return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n="",c=(r="0123456789").length,s=0;s<t;s++)n+=r.charAt(Math.floor(Math.random()*c));return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1915:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j}));var r=n(16),a=n(2),c=n.n(a),s=n(4),o=(n(1312),n(152)),i=n(1287),u=n(1913),l=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)(6);case 3:return n=e.sent,e.next=6,o.a.firestore().collection("classes").doc(n);case 6:if(r=e.sent,!r.get().exists){e.next=12;break}return e.abrupt("return","existed");case 12:return e.next=14,o.a.firestore().collection("classes").doc(n).set(t);case 14:return console.log("add class success"),e.next=17,o.a.firestore().collection("schools").doc(t.school_id).update({classes:Object(i.a)().FieldValue.arrayUnion(r)});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.firestore().collection("classes").doc(t).get();case 3:return n=e.sent,(r=n.data()).id=t,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),n=t.id,e.next=5,o.a.firestore().collection("classes").doc(n).update(t);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.firestore().collection("classes").where("school_id","==",t).get();case 3:if(!(n=e.sent).docs){e.next=8;break}return a=n.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),console.log(a),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},2796:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(4),s=n(23),o=n(0),i=n(401),u=n(1207),l=n(395),d=n(412),b=n(1284),j=n(16),h=n(38),f=n(5),p=n(1382),m=n(1373),O=n(72),x=n(1201),v=n(1203),g=n(1215),y=n(1188),k=n(1189),w=n(1178),S=n(1182),C=n(1226),N=n(1187),T=n(1184),P=n(1183),M=n(1191),B=n(89),E=n.n(B),L=n(205),q=n(66),W=n(1915),I=n(1),_=["className","sclass"],A=Object(i.a)((function(){return{root:{}}})),R=[{value:"name|asc",label:"T\xean h\u1ecdc sinh (t\u0103ng)"},{value:"name|desc",label:"T\xean h\u1ecdc sinh (gi\u1ea3m)"}],V=function(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0},z=function(e,t){var n=t.split("|"),r=Object(s.a)(n,2),a=r[0],c=function(e,t){return"desc"===e?function(e,n){return V(e,n,t)}:function(e,n){return-V(e,n,t)}}(r[1],a),o=e.map((function(e,t){return[e,t]}));return o.sort((function(e,t){var n=c(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),o.map((function(e){return e[0]}))},H=function(e){var t=e.className,n=e.sclass,r=Object(h.a)(e,_),i=n.registers,u=A(),d=Object(q.g)(),b=(Object(O.b)().enqueueSnackbar,Object(o.useState)(0)),B=Object(s.a)(b,2),V=B[0],H=B[1],J=Object(o.useState)(10),F=Object(s.a)(J,2),U=F[0],D=F[1],G=Object(o.useState)(""),K=Object(s.a)(G,2),Q=K[0],X=(K[1],Object(o.useState)(R[0].value)),Y=Object(s.a)(X,2),Z=Y[0],$=(Y[1],Object(o.useState)({hasAcceptedMarketing:null,isProspect:null,isReturning:null})),ee=Object(s.a)($,2),te=ee[0],ne=(ee[1],function(e,t){H(t)}),re=function(e){D(parseInt(e.target.value))},ae=function(e,t,n){return e||(e=[]),e.filter((function(e){var r=!0;if(t){var a=!1;["email","name"].forEach((function(n){e[n].toLowerCase().includes(t.toLowerCase())&&(a=!0)})),a||(r=!1)}return Object.keys(n).forEach((function(t){var a=n[t];a&&e[t]!==a&&(r=!1)})),r}))}(i,Q,te),ce=function(e,t,n){return e.slice(t*n,t*n+n)}(z(ae,Z),V,U);return Object(I.jsx)(m.a,{initialValues:{id:n.id||"",name:n.name||"",code:n.code||"",years:n.years||"",submit:null},validationSchema:p.e().shape({name:p.g().max(5).required("Name is required"),code:p.g().max(25),years:p.g().max(15)}),onSubmit:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setErrors,c=n.setStatus,s=n.setSubmitting,e.prev=1,Object(W.d)(t),e.next=5,Object(L.a)(500);case 5:d.push("/school/management/classes"),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),c({success:!1}),r({submit:e.t0.message}),s(!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,a=e.handleBlur,c=e.handleChange,s=e.handleSubmit,o=e.isSubmitting,i=e.touched,d=e.values;return Object(I.jsx)("form",Object(j.a)(Object(j.a)({className:Object(f.default)(u.root,t),onSubmit:s},r),{},{children:Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(v.a,{children:[Object(I.jsxs)(g.a,{container:!0,spacing:3,children:[Object(I.jsx)(g.a,{item:!0,md:6,xs:12,children:Object(I.jsx)(y.a,{error:Boolean(i.name&&n.name),fullWidth:!0,helperText:i.name&&n.name,label:"T\xean l\u1edbp",name:"name",onBlur:a,onChange:c,required:!0,value:d.name,variant:"outlined"})}),Object(I.jsx)(g.a,{item:!0,md:6,xs:12,children:Object(I.jsx)(k.a,{title:"Vi\u1ebft li\u1ec1n, kh\xf4ng d\u1ea5u ",disableHoverListener:!0,children:Object(I.jsx)(y.a,{error:Boolean(i.id&&n.id),fullWidth:!0,helperText:i.id&&n.id,label:"M\xe3 l\u1edbp",name:"id",disabled:!0,onBlur:a,onChange:c,required:!0,value:d.id,variant:"outlined"})})}),Object(I.jsx)(g.a,{item:!0,md:6,xs:12,children:Object(I.jsx)(y.a,{error:Boolean(i.years&&n.years),fullWidth:!0,helperText:i.years&&n.years,label:"Ni\xean kh\xf3a",name:"years",onBlur:a,onChange:c,required:!0,value:d.years,variant:"outlined"})}),Object(I.jsx)(g.a,{item:!0})]}),Object(I.jsx)(l.a,{mt:2,children:Object(I.jsx)(w.a,{variant:"contained",color:"secondary",type:"submit",disabled:o,children:"L\u01b0u"})})]}),Object(I.jsx)(E.a,{children:Object(I.jsx)(l.a,{minWidth:700,children:Object(I.jsxs)(S.a,{children:[Object(I.jsx)(C.a,{children:Object(I.jsxs)(N.a,{children:[Object(I.jsx)(T.a,{children:"T\xean \u0111\u0103ng nh\u1eadp"}),Object(I.jsx)(T.a,{children:"M\u1eadt kh\u1ea9u l\u1ea7n \u0111\u1ea7u"}),Object(I.jsx)(T.a,{children:"email"})]})}),Object(I.jsx)(P.a,{children:ce.map((function(e){return Object(I.jsxs)(N.a,{hover:!0,children:[Object(I.jsx)(T.a,{children:e.username}),Object(I.jsx)(T.a,{children:e.first_pass}),Object(I.jsx)(T.a,{children:e.email})]},e.username)}))})]})})}),Object(I.jsx)(M.a,{component:"div",count:ae.length,onChangePage:ne,onChangeRowsPerPage:re,page:V,rowsPerPage:U,rowsPerPageOptions:[5,10,25]})]})}))}})},J=n(15),F=n(1260),U=n(1218),D=n(94),G=n(1304),K=n.n(G),Q=["className"],X=Object(i.a)((function(){return{root:{}}})),Y=function(e){var t=e.className,n=Object(h.a)(e,Q),r=localStorage.getItem("schoolname"),a=X();return Object(I.jsxs)("div",Object(j.a)(Object(j.a)({className:Object(f.default)(a.root,t)},n),{},{children:[Object(I.jsxs)(F.a,{separator:Object(I.jsx)(K.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(I.jsxs)(U.a,{variant:"body1",color:"inherit",to:"/hbon/management/schools",component:J.b,children:["Tr\u01b0\u1eddng: ",r]}),Object(I.jsx)(U.a,{variant:"body1",color:"inherit",to:"/school/management/classes",component:J.b,children:"L\u1edbp h\u1ecdc"})]}),Object(I.jsx)(D.a,{variant:"h3",color:"textPrimary",children:"Ch\u1ec9nh s\u1eeda l\u1edbp h\u1ecdc"})]}))},Z=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){var t=e.match.params.classId,n=Z(),r=Object(b.a)(),i=Object(o.useState)(null),j=Object(s.a)(i,2),h=j[0],f=j[1],p=Object(o.useCallback)(Object(c.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(W.b)(t);case 3:n=e.sent,console.log(n),r.current&&f(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[r]);return Object(o.useEffect)((function(){p()}),[p]),h?Object(I.jsxs)(d.a,{className:n.root,title:"Th\xeam l\u1edbp h\u1ecdc",children:[Object(I.jsx)(u.a,{maxWidth:!1,children:Object(I.jsx)(Y,{})}),Object(I.jsx)(l.a,{mt:3,children:Object(I.jsx)(u.a,{maxWidth:"lg",children:Object(I.jsx)(H,{sclass:h})})})]}):null}}}]);
//# sourceMappingURL=77.a0f82178.chunk.js.map