(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[105],{1258:function(e,t,a){"use strict";var n=a(0);t.a=function(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},1278:function(e,t,a){"use strict";var n=a(225),r=a(224);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(227)).default)(c.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=o},2047:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(9),r=a.n(n),c=a(24),o=a(14),u=a(53),l=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.firestore().collection("roles").get();case 3:return t=e.sent,a=t.docs.map((function(e){return Object(c.a)({id:e.id},e.data())})),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.firestore().collection("roles").add(t);case 3:a=e.sent,console.log(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i=function(e){try{e.map((function(e){u.a.firestore().collection("roles").doc(e).delete()}))}catch(t){console.log(t)}},m=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.firestore().collection("roles").doc(t).get();case 3:return a=e.sent,(n=a.data()).id=t,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update roles"),a=t.id,e.next=5,u.a.firestore().collection("roles").doc(a).set(t);case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},2732:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),c=a(14),o=a(17),u=a(0),l=a.n(u),s=a(380),i=a(1180),m=a(374),d=(a(29),a(390)),f=a(1258),p=a(28),h=a(2),b=a(1363),v=a(1355),g=a(62),E=a(1151),j=a(1174),O=a(1176),x=a(1188),k=a(1161),w=a(188),y=a(2047),N=Object(s.a)((function(){return{root:{}}})),S=function(e){var t=e.className,a=e.role,n=Object(p.a)(e,["className","role"]),o=N(),u=Object(g.b)().enqueueSnackbar;return l.a.createElement(v.a,{initialValues:{id:a.id||"",name:a.name||"",shortname:a.shortname||"",submit:null},validationSchema:b.e().shape({name:b.g().max(25).required("Name is required"),shortname:b.g().max(25)}),onSubmit:function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setErrors,c=a.setStatus,o=a.setSubmitting,e.prev=1,console.log(t),Object(y.e)(t),e.next=6,Object(w.a)(500);case 6:c({success:!0}),o(!1),u("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",{variant:"success",action:l.a.createElement("a",{href:"/hbon/management/roles"},l.a.createElement(E.a,null,"Xem t\u1ea5t c\u1ea3"))}),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),c({success:!1}),n({submit:e.t0.message}),o(!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.errors,r=e.handleBlur,c=e.handleChange,u=e.handleSubmit,s=e.isSubmitting,i=e.touched,d=e.values;return l.a.createElement("form",Object.assign({className:Object(h.default)(o.root,t),onSubmit:u},n),l.a.createElement(j.a,null,l.a.createElement(O.a,null,l.a.createElement("input",{type:"hidden",name:"id",required:!0,value:d.id}),l.a.createElement(x.a,{container:!0,spacing:3},l.a.createElement(x.a,{item:!0,md:6,xs:12},l.a.createElement(k.a,{error:Boolean(i.name&&a.name),fullWidth:!0,helperText:i.name&&a.name,label:"Vai tr\xf2",name:"name",onBlur:r,onChange:c,required:!0,value:d.name,variant:"outlined"})),l.a.createElement(x.a,{item:!0,md:6,xs:12},l.a.createElement(k.a,{error:Boolean(i.shortname&&a.shortname),fullWidth:!0,helperText:i.shortname&&a.shortname,label:"Moodle shortname",name:"shortname",onBlur:r,onChange:c,required:!0,value:d.shortname,variant:"outlined"}))),l.a.createElement(m.a,{mt:2},l.a.createElement(E.a,{variant:"contained",color:"secondary",type:"submit",disabled:s},"L\u01b0u")))))}))},C=a(8),q=a(1233),B=a(1191),T=a(84),W=a(1278),L=a.n(W),M=Object(s.a)((function(){return{root:{}}})),V=function(e){var t=e.className,a=Object(p.a)(e,["className"]),n=M();return l.a.createElement("div",Object.assign({className:Object(h.default)(n.root,t)},a),l.a.createElement(q.a,{separator:l.a.createElement(L.a,{fontSize:"small"}),"aria-label":"breadcrumb"},l.a.createElement(B.a,{variant:"body1",color:"inherit",to:"/hbon ",component:C.a},"Trang ch\u1ee7"),l.a.createElement(B.a,{variant:"body1",color:"inherit",to:"/hbon/management/roles",component:C.a},"Vai tr\xf2")),l.a.createElement(T.a,{variant:"h3",color:"textPrimary"},"Ch\u1ec9nh s\u1eeda vai tr\xf2"))},z=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){var t=e.match.params.roleId,a=z(),n=Object(f.a)(),s=Object(u.useState)(null),p=Object(o.a)(s,2),h=p[0],b=p[1],v=Object(u.useCallback)(Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.c)(t);case 3:a=e.sent,n.current&&b(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]);return Object(u.useEffect)((function(){v()}),[v]),h?l.a.createElement(d.a,{className:a.root,title:"Role Edit"},l.a.createElement(i.a,{maxWidth:!1},l.a.createElement(V,null)),l.a.createElement(m.a,{mt:3},l.a.createElement(i.a,{maxWidth:"lg"},l.a.createElement(S,{role:h})))):null}}}]);
//# sourceMappingURL=105.3eba486a.chunk.js.map