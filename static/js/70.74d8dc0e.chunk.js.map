{"version":3,"sources":["hooks/useIsMountedRef.js","../node_modules/@material-ui/icons/NavigateNext.js","../../../../../usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncIterator.js","api/quiz.js","api/categories.js","api/h5p.js","views/sendnotify/QuizTestEditView/QuizTestEditForm.js","views/sendnotify/QuizTestEditView/Header.js","views/sendnotify/QuizTestEditView/index.js"],"names":["useIsMountedRef","isMounted","useRef","useEffect","current","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","_asyncIterator","iterable","method","Symbol","asyncIterator","call","iterator","TypeError","db","app","firestore","getFirestore","listAllQuiztests","a","collection","get","querySnapshot","docs","products","map","doc","id","data","console","log","listPublicQuizes","ref","path","addQuiztest","tags","typeQuiz","ListQuiz","newData","name","listQuiz","add","QuizTestRef","quiz_test","sendNotify","i","length","condtion","parseInt","slice","where","then","forEach","params","to","last_device","device_token","priority","notification","headers","Authorization","process","REACT_APP_FIREBASE_CLOUD_MESSAGE_KEY","axios","post","response","catch","error","err","updateQuiztest","update","getQuizTest","deleteQuizTest","ids","delete","listQuizes","teacherid","quizzes","getQuiz","quizId","quizData","task_data","questions","question","push","searchTags","JSON","stringify","res","getTags","tagRef","createQuiz","values","catalogId","sectionIndex","quiz","tag","desc","created_by","author","restart","navigate","created_time","Date","trial_maxquest","trial_maxtime","trial_maxentry","random","quest_feedback","auto_next","batch","grade","time","count_true","options","fraction","wrong_grade","Math","round","toString","element","questRef","set","quizRef","sectionRef","activities","FieldValue","arrayUnion","type","commit","updateQuiz","listAllCategory","category","listSchools","schools","result","gStatus","listAllTags","listH5p","h5p","listH5pByUser","userid","deleteH5ps","idToken","url","resp","useStyles","makeStyles","theme","formControl","margin","spacing","minWidth","maxWidth","chips","display","flexWrap","chip","noLabel","marginTop","sortOptions","label","descendingComparator","b","orderBy","applySort","courses","sort","split","comparator","order","getComparator","stabilizedThis","el","index","QuizTestEditForm","className","QuizTestId","rest","classes","useAuth","user","isMountedRef","useState","setQuiz","getCourses","useCallback","QuizH5p","enqueueSnackbar","useSnackbar","selectedH5p","setSelectedH5p","page","setPage","limit","setLimit","query","hasAcceptedMarketing","isProspect","isReturning","filters","handleSelectAllH5p","event","target","checked","course","handlePageChange","newPage","handleLimitChange","filteredCourses","filter","matches","containsQuery","property","toLowerCase","includes","keys","key","applyFilters","paginatedH5p","applyPagination","selectedSomeH5p","selectedAllH5p","setTypeQuiz","open","setOpen","audienceChange","handleClose","handleOpen","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","width","setTags","getStyles","tagName","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","useTheme","setTagName","handleChangeTags","history","useHistory","initialValues","submit","validationSchema","Yup","shape","max","required","onSubmit","resetForm","setErrors","setStatus","setSubmitting","wait","success","variant","action","Button","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","setFieldValue","setFieldTouched","clsx","root","Card","CardContent","Grid","container","item","md","xs","TextField","Boolean","fullWidth","helperText","onBlur","onChange","FormControl","InputLabel","Select","labelId","onClose","onOpen","MenuItem","Typography","gutterBottom","color","multiple","input","Input","renderValue","selected","Chip","Box","mt","disabled","Table","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","TableBody","isH5pSelected","hover","courseId","prevSelected","TablePagination","component","count","onChangePage","onChangeRowsPerPage","rowsPerPage","rowsPerPageOptions","Header","localStorage","getItem","Breadcrumbs","separator","fontSize","Link","RouterLink","backgroundColor","palette","background","dark","minHeight","paddingTop","paddingBottom","QuizTestEditView","props","match","setClasses","getQuizTests","Page","title","Container"],"mappings":"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","file":"static/js/70.74d8dc0e.chunk.js","sourcesContent":["import {useRef, useEffect } from 'react';\n\nconst useIsMountedRef = () => {\n  const isMounted = useRef(true);\n\n  useEffect(() => () => {\n    isMounted.current = false;\n  }, []);\n\n  return isMounted;\n};\n\nexport default useIsMountedRef;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\n\nexports.default = _default;","export default function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol !== \"undefined\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}","import  app from './_firebase';\nimport {getFirestore} from 'firebase/firestore'\n\nimport axios from 'axios';\nconst db = app.firestore();\nconst firestore=getFirestore();\nexport const listAllQuiztests = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('quiz_test').get();\n    if (querySnapshot.docs) {\n      const products = querySnapshot.docs.map((doc) => {\n        return {\n          id: doc.id, ...doc.data()\n        }\n      });\n      return products\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport const listPublicQuizes = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('/resource/public/quizzes').get();\n    if (querySnapshot.docs) {\n      const products = querySnapshot.docs.map((doc) => {\n        return {\n          id: doc.id,\n          ref: doc.ref.path,\n          ...doc.data()\n        }\n      });\n      return products\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport const addQuiztest = async (data,tags,typeQuiz,ListQuiz) => {\n  try {\n    let newData = {\n          name : data.name,\n          tags : tags,\n          typeQuiz : typeQuiz,\n          listQuiz : ListQuiz\n    }\n    let QuizTestRef = await app.firestore().collection('quiz_test').add(newData);\n    let quiz_test = await QuizTestRef.get();\n    sendNotify(tags, newData);\n    return quiz_test.data();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nasync function sendNotify(tags,  newData){\n  var i;\n  for (i = 0; i < tags.length; i++) {\n    const condtion =  parseInt(tags[i].slice(-1));\n    const listReceiver  =  await app.firestore().collection('users').where(\"grade\", \"==\", condtion).where('last_device.active_status' ,\"==\",1).get().then(function(querySnapshot){\n      querySnapshot.forEach(function(doc){\n        console.log(doc.id, \" => \", doc.data());\n        const last_device = doc.data().last_device;\n        // if(typeof last_device!==\"undefined\" && last_device.active_status === 1){\n          const devicetoken = last_device.device_token;\n          const params = {\n            // 'condition':topic,\n            to: devicetoken,\n            // 'to':\"fseo_43NQcq1oGsjpjn84B:APA91bESRa4YiBHTr015vGyHMhehOF3goLV42r4aR7uG79WE5hT6FhLo5eKMIXLbb6M76zGYgj_CGFZwcjoazuUs4HbLquFCWElpRhEv5mhpnRy7e0vbNRg62ghdcAmtojJNSU6WtySs\",\n            priority: \"high\",\n            notification: {\n              \"body\": 'Học bài ở nhà vừa gửi 1 bài tập',\n              \"title\": newData.name,\n            },\n            data: {\n              \"click_action\": \"FLUTTER_NOTIFICATION_CLICK\",\n              \"deep_link\": '',\n              \"body\": 'Học bài ở nhà vừa gửi 1 bài tập',\n              \"title\": newData.name,\n              \"content_type\": 'h5p'\n            },\n          };\n\n          const headers = {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"key=\"+process.env.REACT_APP_FIREBASE_CLOUD_MESSAGE_KEY,\n          };\n\n\n          axios.post('https://fcm.googleapis.com/fcm/send', params, {\"headers\":headers})\n            .then(function (response) {\n              console.log(response);\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n        // }\n      });\n    }).catch(function(err){\n      console.log(\"Error getting documents: \", err);\n    });\n  }\n}\n\nexport const updateQuiztest = async (data,tags,typeQuiz,ListQuiz) => {\n  try {\n    let newData = {\n          name : data.name,\n          tags : tags,\n          typeQuiz : typeQuiz,\n          listQuiz : ListQuiz\n    }\n    console.log(data);\n    console.log(newData);\n    let QuizTestRef = await app.firestore().collection('quiz_test').doc(data.id).update(newData);\n    let quiz_test = await QuizTestRef.get();\n    return quiz_test.data();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getQuizTest = async (id) => {\n  try {\n    let querySnapshot = await app.firestore().collection('quiz_test').doc(id).get();\n    const quiz_test = querySnapshot.data();\n    return quiz_test\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport const deleteQuizTest = async(ids)=>{\n  try {\n    ids.map((id) => {\n      app.firestore().collection('quiz_test').doc(id).delete();\n    });\n    return true;\n  }catch (err) {\n    console.log(err);\n  }\n}\nexport const listQuizes = async (teacherid)=>{\n  try {\n    let querySnapshot = await app.firestore().collection('repo/library/users').doc(teacherid).collection('quizzes').get();\n    if (querySnapshot.docs) {\n      const quizzes = querySnapshot.docs.map((doc) => {\n        return {\n          id: doc.id,\n          ...doc.data()\n        }\n      })\n      return quizzes\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport const getQuiz = async (teacherid,quizId)=>{\n  console.log(teacherid,quizId)\n\n  let querySnapshot = await db.collection('repo/library/users').doc(teacherid).collection('quizzes').doc(quizId).get();\n  try {\n  const quizData = await querySnapshot.data();\n  \n  quizData.task_data = [];\n  const questions = quizData.questions;\n  console.log(questions);\n  for(let i=0;i<questions.length;i++){\n    \n    let question = await questions[i].ref.get();\n    let data = await question.data();\n    data.id=question.id;\n    console.log(data);\n    quizData.task_data.push(data)\n  }\n  delete quizData.questions;\n  console.log(quizData);\n    return quizData\n  }catch (err) {\n      console.log(err);\n    }\n}\nexport const searchTags = async()=>{\n  console.log(\"search\")\n  let query=\"\";\naxios.get('https://test.search.dschool.vn/scotch.io-tutorial/cities_list/_search', {\n  data: JSON.stringify(query),\n}\n// , {\n//   headers: {\n//          \"Access-Control-Allow-Origin\": \"*\",\n//          \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n//          \"Access-Control-Allow-Headers\": \"Origin, Content-Type, X-Auth-Token\"\n//        }\n//      }\n     ).then((res) => {\n  console.log(res);\n}\n);\n}\n\nexport const getTags = async()=>{\n  const tagRef = await db.collection(\"resource\").doc(\"tags\").collection('tags').get();\n  if (tagRef.docs) {\n    const tags = tagRef.docs.map((doc) => {\n      return {\n        id: doc.id, ...doc.data()\n      }\n    });\n    return tags\n  }\n}\nexport const createQuiz = async(values,catalogId,sectionIndex )=>{\n  try {\n\n    console.log(values);\n    console.log(typeof(values.data));\n    const quiz={name:values.name,tag:values.tag,desc:values.desc,created_by:values.created_by,author:values.author}\n    // quiz.start_time=null;\n    // quiz.end_time=null;\n    // quiz.duration=null;\n\n    quiz.restart=0;\n    quiz.navigate=1;\n    quiz.created_time = new Date();\n    quiz.trial_maxquest=5;\n    quiz.trial_maxtime=30;\n    quiz.trial_maxentry=1;\n    quiz.random=1;\n    quiz.quest_feedback=0;\n    quiz.auto_next=0;\n    const batch = db.batch();\n    quiz.questions=[];\n    const questions=[];\n    console.log(quiz);\n    let id=0;\n    for await(let question of values.data){\n      id++;\n      question.created_by=quiz.created_by;\n      question.tag=quiz.tag;\n      question.created_time = quiz.created_time\n      question.grade=parseInt(question.grade)\n      question.time=parseInt(question.time)\n      if(\"options\" in question){\n        let count_true=0;\n        for await (let option of question.options){\n          let fraction=option.fraction;\n          if(fraction>0){\n            count_true++;\n          }\n        }\n        question.wrong_grade=Math.round(100*question.grade/count_true)/100;\n        for (let i=0;i< question.options.length;i++){\n          question.options[i].value=i.toString();\n          if(!(\"fraction\" in question.options[i])){\n            question.options[i].fraction=0;\n          }\n          let fraction=question.options[i].fraction;\n          if(fraction>0){\n            question.options[i].fraction=question.wrong_grade;\n          }\n        }\n      }\n      let element = question.element;\n      \n      const questRef = await db.collection('repo/library/users').doc(quiz.created_by).collection(\"questions\").doc(question.id);\n      batch.set(questRef,question);\n      quiz.questions.push({id:id,element:element,ref:questRef});\n      questions.push(question)\n    }\n    const quizRef = await db.collection('repo/library/users').doc(quiz.created_by).collection('quizzes').doc();\n    batch.set( quizRef,quiz);\n    const sectionRef = await db.collection('repo/library/users').doc(quiz.created_by).collection('catalogs').doc(catalogId).collection(\"sections\").doc(sectionIndex);\n      let data = await (await sectionRef.get()).data();\n      if(\"activities\" in data){\n        console.log(quizRef);\n        batch.update(db.collection('repo/library/users').doc(quiz.created_by).collection('catalogs').doc(catalogId).collection(\"sections\").doc(sectionIndex),{activities:firestore.FieldValue.arrayUnion({name:quiz.name,type:\"quiz\",ref:quizRef})})\n      } else {\n        batch.update(db.collection('repo/library/users').doc(quiz.created_by).collection('catalogs').doc(catalogId).collection(\"sections\").doc(sectionIndex),{activities:[{name:quiz.name,type:\"quiz\",ref:quizRef}]})\n      }\n\n\n    await batch.commit()\n\n      //add to elasticsearch\n      console.log(\"quizid:\",quizRef.id);\n      quiz.id = quizRef.id;\n    return true;\n  }catch (err) {\n    console.log(err);\n  }\n}\nexport const updateQuiz = async(quizId,values )=>{\n  try {\n    console.log(values);\n    console.log(typeof(values.data));\n    const quiz={name:values.name,tag:values.tag,desc:values.desc,created_by:values.created_by,author:values.author}\n    // quiz.start_time=null;\n    // quiz.end_time=null;\n    // quiz.duration=null;\n\n    quiz.restart=0;\n    quiz.navigate=1;\n    quiz.created_time = new Date();\n    quiz.trial_maxquest=5;\n    quiz.trial_maxtime=30;\n    quiz.trial_maxentry=1;\n    quiz.random=1;\n    quiz.quest_feedback=0;\n    quiz.auto_next=0;\n    const batch = db.batch();\n    quiz.questions=[];\n    const questions=[];\n    console.log(quiz);\n    let id=0;\n    for await(let question of values.data){\n      id++;\n      let element = question.element;\n      question.created_by=quiz.created_by;\n      question.tag=quiz.tag;\n      question.created_time = quiz.created_time\n      question.grade=parseInt(question.grade)\n      question.time=parseInt(question.time)\n      if(\"options\" in question){\n        let count_true=0;\n        for await (let option of question.options){\n          let fraction=option.fraction;\n          if(fraction>0){\n            count_true++;\n          }\n        }\n        question.wrong_grade=Math.round(100*question.grade/count_true)/100;\n        for (let i=0;i< question.options.length;i++){\n          question.options[i].value=i.toString();\n          if(!(\"fraction\" in question.options[i])){\n            question.options[i].fraction=0;\n          }\n          let fraction=question.options[i].fraction;\n          if(fraction>0){\n            question.options[i].fraction=question.wrong_grade;\n          }\n        }\n      }\n      console.log(\"saving grade\",question.grade);\n      console.log(\"saving time\",question.time);\n      const questRef = await db.collection('repo/library/users').doc(quiz.created_by).collection(\"questions\").doc(question.id);\n      batch.set(questRef,question);\n      quiz.questions.push({id:id,element:element,ref:questRef});\n      questions.push(question);\n    };\n    const quizRef = await db.collection('repo/library/users').doc(quiz.created_by).collection('quizzes').doc(quizId);\n    batch.update( quizRef,quiz);\n    \n\n\n    await batch.commit();\n    //add to elasticsearch\n    console.log(\"quizid:\",quizRef.id);\n    quiz.id = quizRef.id;\n\n    return true;\n  }catch (err) {\n    console.log(err);\n  }\n}\n","import app from './_firebase';\n\n\nexport const listAllCategory = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('categories').get();\n    const category = querySnapshot.docs.map((doc) => {\n      return  doc.id;\n    });\n    return category\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const listSchools = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('schools').get();\n    const schools = querySnapshot.docs.map((doc) => {\n      let result = {};\n      result.id = doc.id;\n      result.name = doc.data().name;\n      return result;\n    });\n    return schools\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const gStatus = () => {\n  return [\"true\", \"false\"];\n};\n\n\nexport const addCategory = async (data) => {\n  try {\n    let category = await app.firestore().collection('categories').add(data);\n    console.log(category.data);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const deleteCategorys = (ids) => {\n  try {\n    ids.map((id) => {\n      app.firestore().collection('categories').doc(id).delete();\n    })\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getCategoryApi = async (id) => {\n  try {\n    let querySnapshot = await app.firestore().collection('categories').doc(id).get();\n    const category = querySnapshot.data();\n    category.id = id;\n    return category\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport const updateCategory = async (data) => {\n  try {\n    console.log(\"update categories\");\n    let id = data.id;\n    let result = await app.firestore().collection('categories').doc(id).set(data);\n    console.log(result);\n    return result\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const listAllTags = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('tags').where(\"root\",\"==\",true).get();\n    const tags = querySnapshot.docs.map((doc) => {\n      return  doc.id;\n    });\n    return tags\n  } catch (err) {\n    console.log(err);\n  }\n}\n","import app from './_firebase';\n\nimport {getFirestore} from 'firebase/firestore'\n\nimport axios from 'axios';\n\nexport const listH5p = async () => {\n  try {\n    let querySnapshot = await app.firestore().collection('h5p').get();\n    const h5p = querySnapshot.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    });\n    return h5p;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const listH5pByUser = async (userid) => {\n  try {\n    console.log(\"search h5p:\",userid)\n    let querySnapshot = await app.firestore().collection('h5p').where(\"userid\",\"==\",userid).get();\n    const h5p = querySnapshot.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      };\n    });\n    console.log(h5p)\n    return h5p;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n\nexport const deleteH5ps = (ids,idToken) => {\n  try {\n    ids.map((id) => {\n      //https://h5p.dschool.vn/h5p/delete/95679186\n     const url = \"https://h5p.dschool.vn/h5p/delete/\" + id + \"?idToken=\"+idToken;\n    axios.get(url).then(resp => {\n\n        console.log(resp.data);\n        app.firestore().collection('h5ps').doc(id).delete();\n    });\n      \n    })\n  } catch (err) {\n    console.log(err);\n  }\n};","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Button,\n  Card,\n  Checkbox,\n  CardContent,\n  Grid,\n  TextField,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TablePagination,\n  TableRow,\n  makeStyles,\n  useTheme,\n  Input,\n  Chip,\n  Typography, RadioGroup, FormControlLabel, Radio\n} from '@material-ui/core';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport wait from 'src/utils/wait';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport {updateQuiztest} from '../../../api/quiz';\nimport { listH5p } from '../../../api/h5p';\nimport useAuth from 'src/hooks/useAuth';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { listAllTags } from '../../../api/categories';\nimport { useHistory } from 'react-router';\n\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    maxWidth: 300,\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst sortOptions = [\n  {\n    value: 'category|asc',\n    label: 'Category (tăng)'\n  },\n  {\n    value: 'category|desc',\n    label: 'Category (giảm)'\n  }\n];\n\nconst applyFilters = (courses, query, filters) => {\n  return courses.filter((course) => {\n    let matches = true;\n\n    if (query) {\n      const properties = ['email', 'name'];\n      let containsQuery = false;\n\n      properties.forEach((property) => {\n        if (course[property].toLowerCase().includes(query.toLowerCase())) {\n          containsQuery = true;\n        }\n      });\n\n      if (!containsQuery) {\n        matches = false;\n      }\n    }\n\n    Object.keys(filters).forEach((key) => {\n      const value = filters[key];\n\n      if (value && course[key] !== value) {\n        matches = false;\n      }\n    });\n\n    return matches;\n  });\n};\n\nconst applyPagination = (courses, page, limit) => {\n  return courses.slice(page * limit, page * limit + limit);\n};\n\nconst descendingComparator = (a, b, orderBy) => {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nconst getComparator = (order, orderBy) => {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n};\nconst applySort = (courses, sort) => {\n  const [orderBy, order] = sort.split('|');\n  const comparator = getComparator(order, orderBy);\n  const stabilizedThis = courses.map((el, index) => [el, index]);\n\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n\n    if (order !== 0) return order;\n\n    return a[1] - b[1];\n  });\n\n  return stabilizedThis.map((el) => el[0]);\n};\n\nconst QuizTestEditForm = ({ className, quiz_test, QuizTestId, ...rest }) => {\n\n  const { user} = useAuth();\n  const classes = useStyles();\n  const isMountedRef = useIsMountedRef();\n\n  const [quiz, setQuiz] = useState([]);\n  const getCourses = useCallback(async () => {\n    try {\n      const QuizH5p = await listH5p();\n      if (isMountedRef.current) {\n        setQuiz(QuizH5p);\n      }\n\n    } catch (err) {\n      console.error(err);\n    }\n  }, [isMountedRef]);\n\n\n  useEffect(() => {\n    getCourses();\n  }, [getCourses]);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [selectedH5p, setSelectedH5p] = useState(quiz_test.listQuiz);\n  const [page, setPage] = useState(0);\n  const [limit, setLimit] = useState(10);\n  const [query, setQuery] = useState('');\n\n  const [sort, setSort] = useState(sortOptions[0].value);\n  const [filters, setFilters] = useState({\n    hasAcceptedMarketing: null,\n    isProspect: null,\n    isReturning: null\n  });\n\n  const handleSelectAllH5p = (event) => {\n    setSelectedH5p(event.target.checked\n      ? quiz.map((course) => course.id)\n      : []);\n  };\n\n  const handleSelectOneH5p = (event, courseId) => {\n    if (!selectedH5p.includes(courseId)) {\n      setSelectedH5p((prevSelected) => [...prevSelected, courseId]);\n    } else {\n      setSelectedH5p((prevSelected) => prevSelected.filter((id) => id !== courseId));\n    }\n  };\n\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleLimitChange = (event) => {\n    setLimit(parseInt(event.target.value));\n  };\n\n  const filteredCourses = applyFilters(quiz, query, filters);\n  const sortedClasses = applySort(filteredCourses, sort);\n  const paginatedH5p = applyPagination(sortedClasses, page, limit);\n  const selectedSomeH5p = selectedH5p.length > 0 && selectedH5p.length < quiz.length;\n  const selectedAllH5p = selectedH5p.length === quiz.length;\n\n  const [typeQuiz, setTypeQuiz] = React.useState(quiz_test.typeQuiz);\n  const [open, setOpen] = React.useState(false);\n\n  const audienceChange = (event) => {\n    setTypeQuiz(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const ITEM_HEIGHT = 48;\n  const ITEM_PADDING_TOP = 8;\n  const MenuProps = {\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        width: 250,\n      },\n    },\n  };\n\n  const [tags, setTags] = useState([]);\n\n  const getTags = useCallback(async () => {\n    try {\n      const tags = await listAllTags();\n      if (isMountedRef.current) {\n        setTags(tags);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [isMountedRef]);\n\n  useEffect(() => {\n    getTags();\n  }, [getTags]);\n\n  function getStyles(tag, tagName, theme) {\n    return {\n      fontWeight:\n        tagName.indexOf(tag) === -1\n          ? theme.typography.fontWeightRegular\n          : theme.typography.fontWeightMedium,\n    };\n  }\n  const theme = useTheme();\n  console.log(quiz_test.tags);\n  const [tagName, setTagName] = useState(quiz_test.tags);\n  const handleChangeTags = (event) => {\n    setTagName(event.target.value);\n  };\n  const history = useHistory();\n  return (\n    <Formik\n      initialValues={{\n      id: QuizTestId || '',\n      name: quiz_test.name||'',\n      submit: null }}\n\n      validationSchema={Yup.object().shape({\n        name: Yup.string().max(75).required('Bắt buộc nhập tên'),\n      })}\n\n        onSubmit={async (values, {\n          resetForm,\n          setErrors,\n          setStatus,\n          setSubmitting\n        }) => {\n          try {\n            if(tagName.length > 0 && selectedH5p.length > 0){\n              updateQuiztest(values,tagName,typeQuiz,selectedH5p);\n              // NOTE: Make API request\n              await wait(500);\n              resetForm();\n              setStatus({ success: true });\n              setSubmitting(false);\n              enqueueSnackbar('Cập nhật quiz thành công', {\n                variant: 'success',\n                action: <Button>See all</Button>\n              });\n              await wait(1000);\n              history.push('/hbon/management/quiztest/list');\n            }else{\n              enqueueSnackbar('Tags và list câu hỏi không được để trống', {\n                variant: 'error',\n                action: <Button>See all</Button>\n              });\n            }\n          } catch (err) {\n            console.error(err);\n            setStatus({ success: false });\n            setErrors({ submit: err.message });\n            setSubmitting(false);\n          }\n        }}\n    >\n      {({\n          errors,\n          handleBlur,\n          handleChange,\n          handleSubmit,\n          isSubmitting,\n          setFieldValue,\n          setFieldTouched,\n          touched,\n          values\n        }) => (\n        <form className={clsx(classes.root, className)} onSubmit={handleSubmit}{...rest}>\n          <Card>\n            <input type=\"hidden\" name=\"id\" required value={QuizTestId}/>\n            <CardContent>\n              <Grid container spacing={3}>\n                <Grid item md={6} xs={12}>\n                  <TextField error={Boolean(touched.name && errors.name)} fullWidth helperText={touched.name && errors.name} label=\"Tên\" name=\"name\" onBlur={handleBlur} onChange={handleChange} required value={values.name} variant=\"outlined\"/>\n                </Grid>\n\n                <Grid item md={6} xs={12}>\n                  <FormControl className={classes.formControl}  fullWidth>\n                    <InputLabel id=\"demo-controlled-open-select-label\">Loại quiz</InputLabel>\n                    <Select\n                      labelId=\"demo-controlled-open-select-label\"\n                      id=\"demo-controlled-open-select\"\n                      open={open}\n                      onClose={handleClose}\n                      onOpen={handleOpen}\n                      value={typeQuiz}\n                      onChange={audienceChange}\n                    >\n                      <MenuItem value=\"\">\n                        <em>None</em>\n                      </MenuItem>\n                      <MenuItem value={'h5p'}>H5P</MenuItem>\n                    </Select>\n                  </FormControl>\n                </Grid>\n\n                <Grid item md={6} xs={12}>\n                  <Typography gutterBottom variant=\"h6\" color=\"textPrimary\">\n                    Tags\n                  </Typography>\n                  <Typography gutterBottom variant=\"body2\" color=\"textSecondary\">\n                    Chọn đối tượng làm quiz\n                  </Typography>\n                  <FormControl className={classes.formControl}>\n                    <Select fullWidth\n                      name=\"tagName\"\n                      labelId=\"demo-mutiple-chip-label\"\n                      id=\"demo-mutiple-chip\"\n                      multiple\n                      value={tagName}\n                      onChange={handleChangeTags}\n                      input={<Input id=\"select-multiple-chip\" />}\n                      renderValue={(selected) => (\n                        <div className={classes.chips}>\n                          {selected.map((value) => (\n                            <Chip key={value} label={value} name=\"tags\" className={classes.chip} />\n                          ))}\n                        </div>\n                      )}\n                      MenuProps={MenuProps}\n                    >\n                      {tags.map((tag) => (\n                        <MenuItem key={tag} value={tag} style={getStyles(tag, tagName, theme)}>\n                          {tag}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </Grid>\n\n                <Grid item md={6} xs={12}>\n                </Grid>\n\n              </Grid>\n              <Box mt={2}>\n                <Button variant=\"contained\" color=\"secondary\" type=\"submit\" disabled={isSubmitting}>\n                  Gửi Quiz\n                </Button>\n              </Box>\n            </CardContent>\n            <PerfectScrollbar>\n              <Box minWidth={700}>\n                <Table>\n                  {typeQuiz === 'h5p' &&(\n                    <TableHead>\n                      <TableRow>\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox checked={selectedAllH5p} indeterminate={selectedSomeH5p} onChange={handleSelectAllH5p}/>\n                        </TableCell>\n                        <TableCell>\n                          ID\n                        </TableCell>\n                        <TableCell>\n                          UserId\n                        </TableCell>\n                      </TableRow>\n                    </TableHead>\n                  )}\n                  <TableBody>\n                    {typeQuiz === 'h5p' && (paginatedH5p.map((h5p) => {\n                      const isH5pSelected = selectedH5p.includes(h5p.id);\n                      return (\n                        <TableRow hover key={h5p.id} selected={isH5pSelected}>\n                          <TableCell padding=\"checkbox\">\n                            <Checkbox checked={isH5pSelected} onChange={(event) => handleSelectOneH5p(event, h5p.id)} value={isH5pSelected}/>\n                          </TableCell>\n                          <TableCell>\n                            {h5p.id}\n                          </TableCell>\n                          <TableCell>\n                            {h5p.userid}\n                          </TableCell>\n                        </TableRow>\n                      );\n                    }))}\n                  </TableBody>\n                </Table>\n              </Box>\n            </PerfectScrollbar>\n            {typeQuiz === 'h5p' &&(\n              <TablePagination\n                component=\"div\"\n                count={filteredCourses.length}\n                onChangePage={handlePageChange}\n                onChangeRowsPerPage={handleLimitChange}\n                page={page}\n                rowsPerPage={limit}\n                rowsPerPageOptions={[5, 10, 25]}\n              />)}\n          </Card>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nQuizTestEditForm.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default QuizTestEditForm;\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Breadcrumbs,\n  Link,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Header = ({ className, ...rest }) => {\n  let schoolname = localStorage.getItem('schoolname');\n  const classes = useStyles();\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\n        <Link variant=\"body1\" color=\"inherit\" to=\"/hbon/management/sendnotify/list\" component={RouterLink}>\n            Quản lý quiz\n          </Link>\n      </Breadcrumbs>\n      <Typography variant=\"h3\" color=\"textPrimary\">\n          Chỉnh sửa quiz\n        </Typography>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React, {\n  useState,\n  useCallback,\n  useEffect\n} from 'react';\nimport {\n  Box,\n  Container,\n  makeStyles\n} from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport QuizTestEditForm from './QuizTestEditForm';\nimport Header from './Header';\nimport { getQuizTest } from 'src/api/quiz';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nconst QuizTestEditView = (props) => {\n  const {QuizTestId: QuizTestId } = props.match.params;\n\n  const classes = useStyles();\n  const isMountedRef = useIsMountedRef();\n  const [quiz_test, setClasses] = useState(null);\n\n  const getQuizTests = useCallback(async () => {\n    try {\n      let quiz_test = await getQuizTest(QuizTestId);\n      if (isMountedRef.current) {\n        setClasses(quiz_test);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [isMountedRef]);\n\n  useEffect(() => {\n    getQuizTests();\n  }, [getQuizTests]);\n\n  if (!quiz_test) {\n    return null;\n  }\n  console.log(quiz_test);\n  return (\n    <Page className={classes.root} title=\"Thêm thẻ\">\n      <Container maxWidth={false}>\n        <Header />\n      </Container>\n      <Box mt={3}>\n        <Container maxWidth=\"lg\">\n          <QuizTestEditForm quiz_test = {quiz_test} QuizTestId={QuizTestId} />\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default QuizTestEditView;\n"],"sourceRoot":""}