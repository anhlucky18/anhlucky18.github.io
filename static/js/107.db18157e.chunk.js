(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[107],{1284:function(e,t,n){"use strict";var r=n(0);t.a=function(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},1304:function(e,t,n){"use strict";var r=n(244),a=n(243);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),o=(0,r(n(246)).default)(c.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=o},2075:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return b}));var r=n(2),a=n.n(r),c=n(16),o=n(4),s=n(152),i=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.firestore().collection("roles").get();case 3:return t=e.sent,n=t.docs.map((function(e){return Object(c.a)({id:e.id},e.data())})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.firestore().collection("roles").add(t);case 3:n=e.sent,console.log(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){try{e.map((function(e){s.a.firestore().collection("roles").doc(e).delete()}))}catch(t){console.log(t)}},d=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.firestore().collection("roles").doc(t).get();case 3:return n=e.sent,(r=n.data()).id=t,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update roles"),n=t.id,e.next=5,s.a.firestore().collection("roles").doc(n).set(t);case 5:return r=e.sent,console.log(r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},2758:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(4),o=n(23),s=n(0),i=n(401),u=n(1207),l=n(395),d=(n(39),n(412)),b=n(1284),h=n(16),j=n(38),m=n(5),f=n(1382),p=n(1373),v=n(72),O=n(1178),x=n(1201),g=n(1203),k=n(1215),w=n(1188),y=n(205),N=n(2075),S=n(1),C=["className","role"],q=Object(i.a)((function(){return{root:{}}})),B=function(e){var t=e.className,n=e.role,r=Object(j.a)(e,C),o=q(),s=Object(v.b)().enqueueSnackbar;return Object(S.jsx)(p.a,{initialValues:{id:n.id||"",name:n.name||"",shortname:n.shortname||"",submit:null},validationSchema:f.e().shape({name:f.g().max(25).required("Name is required"),shortname:f.g().max(25)}),onSubmit:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setErrors,c=n.setStatus,o=n.setSubmitting,e.prev=1,console.log(t),Object(N.e)(t),e.next=6,Object(y.a)(500);case 6:c({success:!0}),o(!1),s("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",{variant:"success",action:Object(S.jsx)("a",{href:"/hbon/management/roles",children:Object(S.jsx)(O.a,{children:"Xem t\u1ea5t c\u1ea3"})})}),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),c({success:!1}),r({submit:e.t0.message}),o(!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,a=e.handleBlur,c=e.handleChange,s=e.handleSubmit,i=e.isSubmitting,u=e.touched,d=e.values;return Object(S.jsx)("form",Object(h.a)(Object(h.a)({className:Object(m.default)(o.root,t),onSubmit:s},r),{},{children:Object(S.jsx)(x.a,{children:Object(S.jsxs)(g.a,{children:[Object(S.jsx)("input",{type:"hidden",name:"id",required:!0,value:d.id}),Object(S.jsxs)(k.a,{container:!0,spacing:3,children:[Object(S.jsx)(k.a,{item:!0,md:6,xs:12,children:Object(S.jsx)(w.a,{error:Boolean(u.name&&n.name),fullWidth:!0,helperText:u.name&&n.name,label:"Vai tr\xf2",name:"name",onBlur:a,onChange:c,required:!0,value:d.name,variant:"outlined"})}),Object(S.jsx)(k.a,{item:!0,md:6,xs:12,children:Object(S.jsx)(w.a,{error:Boolean(u.shortname&&n.shortname),fullWidth:!0,helperText:u.shortname&&n.shortname,label:"Moodle shortname",name:"shortname",onBlur:a,onChange:c,required:!0,value:d.shortname,variant:"outlined"})})]}),Object(S.jsx)(l.a,{mt:2,children:Object(S.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",disabled:i,children:"L\u01b0u"})})]})})}))}})},E=n(15),T=n(1260),W=n(1218),L=n(94),M=n(1304),V=n.n(M),z=["className"],J=Object(i.a)((function(){return{root:{}}})),P=function(e){var t=e.className,n=Object(j.a)(e,z),r=J();return Object(S.jsxs)("div",Object(h.a)(Object(h.a)({className:Object(m.default)(r.root,t)},n),{},{children:[Object(S.jsxs)(T.a,{separator:Object(S.jsx)(V.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(S.jsx)(W.a,{variant:"body1",color:"inherit",to:"/hbon ",component:E.b,children:"Trang ch\u1ee7"}),Object(S.jsx)(W.a,{variant:"body1",color:"inherit",to:"/hbon/management/roles",component:E.b,children:"Vai tr\xf2"})]}),Object(S.jsx)(L.a,{variant:"h3",color:"textPrimary",children:"Ch\u1ec9nh s\u1eeda vai tr\xf2"})]}))},R=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){var t=e.match.params.roleId,n=R(),r=Object(b.a)(),i=Object(s.useState)(null),h=Object(o.a)(i,2),j=h[0],m=h[1],f=Object(s.useCallback)(Object(c.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.c)(t);case 3:n=e.sent,r.current&&m(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[r]);return Object(s.useEffect)((function(){f()}),[f]),j?Object(S.jsxs)(d.a,{className:n.root,title:"Role Edit",children:[Object(S.jsx)(u.a,{maxWidth:!1,children:Object(S.jsx)(P,{})}),Object(S.jsx)(l.a,{mt:3,children:Object(S.jsx)(u.a,{maxWidth:"lg",children:Object(S.jsx)(B,{role:j})})})]}):null}}}]);
//# sourceMappingURL=107.db18157e.chunk.js.map