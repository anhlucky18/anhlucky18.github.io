{"version":3,"sources":["hooks/useIsMountedRef.js","../node_modules/@material-ui/icons/NavigateNext.js","views/h5p/H5pCreateView/H5pCreateForm.js","views/h5p/H5pCreateView/Header.js","views/h5p/H5pCreateView/index.js"],"names":["useIsMountedRef","isMounted","useRef","useEffect","current","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","useStyles","makeStyles","brief","height","tags","position","overflow","maxHeight","categories","H5pCreateForm","className","rest","history","useHistory","isMountedRef","classes","useState","idToken","setIdToken","getIdToken","useCallback","a","getUserIdToken","console","log","error","initialValues","title","url","submit","validationSchema","Yup","shape","max","onSubmit","values","resetForm","setErrors","setStatus","setSubmitting","push","err","success","message","errors","handleBlur","handleChange","handleSubmit","setFieldValue","isSubmitting","touched","clsx","root","Card","Box","minWidth","CardMedia","component","image","H5P_SERVER_URL","TextField","fullWidth","label","name","variant","Header","Breadcrumbs","separator","fontSize","Link","color","to","RouterLink","Typography","theme","backgroundColor","palette","background","dark","minHeight","paddingTop","spacing","paddingBottom","LivestreamCreateView","Page","Container","maxWidth","mt"],"mappings":"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","file":"static/js/19.2af4c3ce.chunk.js","sourcesContent":["import {useRef, useEffect } from 'react';\n\nconst useIsMountedRef = () => {\n  const isMounted = useRef(true);\n\n  useEffect(() => () => {\n    isMounted.current = false;\n  }, []);\n\n  return isMounted;\n};\n\nexport default useIsMountedRef;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\n\nexports.default = _default;","import React, {\n  useState,\n  useEffect,\n  useCallback\n} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  TextField,\n  makeStyles,\n  CardMedia,\n  CardHeader,\n  Divider,\n  Paper,\n  FormHelperText,\n  FormControlLabel,\n  Checkbox,\n  RadioGroup,\n  Radio,\n  Typography,\n  Tooltip\n} from '@material-ui/core';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport wait from 'src/utils/wait';\n\n\n\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport { useHistory } from 'react-router-dom';\nimport {getUserIdToken} from 'src/api/users';\n\nimport { H5P_SERVER_URL } from 'src/config';\nconst useStyles = makeStyles(() => ({\n  brief: {\n    '& .ql-editor': {\n      height: 150\n    }\n  },\n  tags: {\n    position: 'relative',\n    overflow: 'auto',\n    maxHeight: 300\n  },\n  categories: {\n    position: 'relative',\n    overflow: 'auto',\n    maxHeight: 300\n  }\n}));\n\nconst H5pCreateForm = ({ className, ...rest }) => {\n  const history = useHistory();\n  const isMountedRef = useIsMountedRef();\n  const classes = useStyles();\n  let [idToken, setIdToken] = useState();\n  const getIdToken = useCallback(async () => {\n    try {\n      const idToken = await getUserIdToken();\n      console.log(idToken);\n      if (isMountedRef.current) {\n        setIdToken(idToken);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [isMountedRef]);\n\n  useEffect(() => {getIdToken()}, [getIdToken]);\n\n  console.log(idToken)\n\n  return (\n    <Formik\n      initialValues={{\n        title: '',\n        url: '',\n        submit: null\n      }}\n      validationSchema={Yup.object().shape({\n        title: Yup.string().max(255)\n      })}\n      onSubmit={async (values, {\n        resetForm,\n        setErrors,\n        setStatus,\n        setSubmitting\n      }) => {\n        try {\n          console.log(values);\n          // NOTE: Make API request\n          // addLivestreamH5p(values);\n          // await wait(500);\n          history.push('/teacher/management/h5p');\n        } catch (err) {\n          console.error(err);\n          setStatus({ success: false });\n          setErrors({ submit: err.message });\n          setSubmitting(false);\n        }\n      }}\n    >\n      {({\n          errors,\n          handleBlur,\n          handleChange,\n          handleSubmit,\n          setFieldValue,\n          isSubmitting,\n          touched,\n          values\n        }) => (\n        <form className={clsx(classes.root, className)} onSubmit={handleSubmit}{...rest}>\n          <Card>\n            <Box minWidth={700}>\n              {idToken\n              ? <CardMedia\n              component=\"iframe\"\n              height=\"700\"\n              image={H5P_SERVER_URL+\"/h5p/new?idToken=\"+idToken}\n              title=\"New H5p\"\n            />\n              : <TextField\n              fullWidth\n              label=\"Tiêu đề\"\n              name=\"title\"\n              value=\"\"\n              variant=\"outlined\"\n            />\n            }\n\n              </Box>\n          </Card>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nH5pCreateForm.propTypes = {\n  className: PropTypes.string\n};\n\nexport default H5pCreateForm;\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Breadcrumbs,\n  Link,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Header = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Breadcrumbs\n        separator={<NavigateNextIcon fontSize=\"small\" />}\n        aria-label=\"breadcrumb\"\n      >\n        <Link\n          variant=\"body1\"\n          color=\"inherit\"\n          to=\"/hbon \"\n          component={RouterLink}\n        >\n          Trang chủ\n        </Link>\n        <Link\n          variant=\"body1\"\n          color=\"inherit\"\n          to=\"/hbon/management/h5p\"\n          component={RouterLink}\n        >\n          H5p\n        </Link>\n      </Breadcrumbs>\n      <Typography\n        variant=\"h3\"\n        color=\"textPrimary\"\n      >\n        Thêm H5p\n      </Typography>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React from 'react';\nimport {\n  Box,\n  Container,\n  makeStyles\n} from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport H5pCreateForm from './H5pCreateForm';\nimport Header from './Header';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nconst LivestreamCreateView = () => {\n  const classes = useStyles();\n  return (\n    <Page\n      className={classes.root}\n      title=\"Thêm nội dung\"\n    >\n      <Container maxWidth={false}>\n        <Header />\n      </Container>\n      <Box mt={3}>\n        <Container maxWidth=\"lg\">\n          <H5pCreateForm />\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default LivestreamCreateView;\n"],"sourceRoot":""}